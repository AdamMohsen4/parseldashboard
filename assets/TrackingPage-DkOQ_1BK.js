import{j as e}from"./ui-BUgdJNRx.js";import{r as s}from"./vendor-D4-GdBKu.js";import{u as t,N as a,C as r,a as i,b as n,d,I as c,B as l,t as m}from"./index-CfYOYaAA.js";import{S as o}from"./separator-BoSVhfUU.js";import{trackShipment as x}from"./shipmentService-KKy-mwdh.js";const u=()=>{const[u,p]=s.useState(""),[h,j]=s.useState(!1),[g,v]=s.useState(!1),[N,f]=s.useState(null),{t:k}=t();return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(a,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs(r,{className:"max-w-3xl mx-auto",children:[e.jsx(i,{children:e.jsx(n,{children:k("tracking.title")})}),e.jsxs(d,{children:[e.jsx("form",{onSubmit:async e=>{if(e.preventDefault(),u.trim()){v(!0),j(!0);try{const e=await x(u);e?f(e):m({title:"Tracking Not Found",description:"No shipment found with this tracking number. Please check and try again.",variant:"destructive"})}catch(s){m({title:"Tracking Error",description:"An error occurred while trying to track your shipment",variant:"destructive"})}finally{v(!1)}}else m({title:"Tracking Error",description:"Please enter a valid tracking number",variant:"destructive"})},className:"space-y-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(c,{placeholder:k("tracking.placeholder"),value:u,onChange:e=>p(e.target.value),className:"flex-1"}),e.jsx(l,{type:"submit",disabled:g,children:g?"Loading...":k("tracking.track")})]})}),h&&N&&e.jsxs("div",{className:"mt-8 space-y-6 animate-fade-in",children:[e.jsx("div",{className:"bg-muted p-4 rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:k("tracking.trackingNumber")}),e.jsx("p",{className:"font-bold",children:N.trackingCode})]}),e.jsxs("div",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full",children:["pending"===N.status&&"Pending","picked_up"===N.status&&"Picked Up","in_transit"===N.status&&"In Transit","delivered"===N.status&&"Delivered","exception"===N.status&&"Exception"]})]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:k("tracking.from")}),e.jsx("p",{children:N.pickup})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:k("tracking.to")}),e.jsx("p",{children:N.delivery})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:k("tracking.carrier")}),e.jsx("p",{children:N.carrier.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:k("tracking.estimatedDelivery")}),e.jsx("p",{children:N.estimatedDelivery||"Not available"})]})]}),e.jsx(o,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:k("tracking.trackingHistory")}),e.jsxs("div",{className:"relative pl-6 space-y-6",children:[e.jsx("div",{className:"absolute top-0 bottom-0 left-2 w-0.5 bg-muted"}),N.events.map(((s,t)=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-6 mt-1.5 w-4 h-4 rounded-full bg-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(s.date).toLocaleString()}),e.jsx("p",{className:"font-medium",children:s.status}),e.jsx("p",{className:"text-sm",children:s.location}),s.description&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s.description})]})]},t)))]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:k("tracking.needHelp")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:k("tracking.helpText")})]})})]}),h&&!N&&!g&&e.jsx("div",{className:"mt-8 p-4 bg-muted rounded-lg",children:e.jsxs("p",{className:"text-center",children:["No shipment found with tracking number: ",u]})})]})]})})]})};export{u as default};
