import{j as e,d as t,n,k as r,c as a,i as s,u as l,b as i,a as o,e as c,f as d}from"./ui-D-7D7zMz.js";import{L as u,c as m,r as p,R as h,u as x}from"./vendor-BhPmHrfx.js";import{c as f,L as g,C as v,P as y,a as b,T as j,B as N,b as w,g as k,I as S,d as C,u as P,e as E,f as I,J as D,h as L,i as z,j as A,k as R,l as M,m as F,n as T,o as $,p as _,A as O,q as B,N as V}from"./index-Brw5S_MN.js";import{s as H,D as G,g as q,a as U}from"./labelService-Btd6rrgy.js";import{S as W,a as X,b as K,c as Y,d as J,u as Z}from"./select-Di0T3-IH.js";import{C as Q}from"./circle-alert-CWTeC4En.js";import{C as ee,t as te,D as ne,a as re,s as ae,e as se,i as le,b as ie,f as oe,c as ce,d as de}from"./index.esm-BWSlyamA.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=f("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),me=f("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),pe=f("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),he=f("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),xe=f("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),fe=f("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]),ge=f("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),ve=async e=>{try{if(!e.pickup||!e.delivery||!e.userId)return{success:!1,message:"Required fields are missing"};const t=`SHIP-${Math.floor(1e6*Math.random())}`,n=`EP${Math.floor(1e7*Math.random())}FI`,r=e.carrier.price,a=`https://api.shipping.com/labels/${n}`,s=new Date;s.setHours(s.getHours()+2);const l=new Date;l.setHours(l.getHours()+24);return await H(e,n,a,s.toISOString(),r,e.deliveryDate||(new Date).toISOString(),l)?{success:!0,message:"Shipment booked successfully",shipmentId:t,trackingCode:n,totalPrice:r,cancellationDeadline:l.toISOString()}:{success:!1,message:"Failed to save booking to database"}}catch(t){return{success:!1,message:"Failed to book shipment"}}},ye=({value:t,onChange:n})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"label-language",className:"text-sm font-medium",children:"Label Language"}),e.jsxs(W,{value:t,onValueChange:n,children:[e.jsx(X,{id:"label-language",className:"w-full bg-background border-input",children:e.jsx(K,{placeholder:"Select language"})}),e.jsxs(Y,{children:[e.jsx(J,{value:"en",children:"English"}),e.jsx(J,{value:"fi",children:"Finnish"}),e.jsx(J,{value:"sv",children:"Swedish"}),e.jsx(J,{value:"no",children:"Norwegian"}),e.jsx(J,{value:"da",children:"Danish"})]})]})]}),be=({bookingResult:t,carrier:n,canCancelBooking:r,labelLanguage:a,setLabelLanguage:s,isGeneratingLabel:l,handleGenerateLabel:i,handleCancelBooking:o,onBookAnother:c})=>e.jsxs(v,{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"bg-slate-700 text-white p-3 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5"}),"Booking Confirmed"]})}),e.jsxs(b,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 p-6 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"bg-slate-200 p-3 rounded-md",children:e.jsx(j,{className:"h-6 w-6 text-slate-700"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-medium",children:"Your shipment is booked!"}),e.jsxs("p",{className:"text-sm text-slate-500",children:["Tracking code: ",(null==t?void 0:t.trackingCode)||(null==t?void 0:t.tracking_code)]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Carrier"}),e.jsx("p",{className:"text-lg font-medium",children:(null==t?void 0:t.carrier_name)||n.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Total Price"}),e.jsxs("p",{className:"text-lg font-medium",children:["€",(null==t?void 0:t.totalPrice)||(null==t?void 0:t.total_price)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Estimated Delivery"}),e.jsx("p",{className:"text-lg font-medium",children:n.eta})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Status"}),e.jsx("p",{className:"text-lg font-medium text-green-600",children:"Pending"})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx("h3",{className:"font-medium mb-4",children:"Shipping Label"}),e.jsxs("div",{className:"flex items-end gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(ye,{value:a,onChange:s})}),e.jsxs(N,{variant:"outline",className:"flex items-center gap-2",onClick:i,disabled:l,children:[e.jsx(G,{className:"h-4 w-4"}),l?"Generating...":"Generate & Download Label"]})]})]})]}),r&&e.jsxs("div",{className:"bg-slate-50 p-6 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"bg-slate-200 p-3 rounded-md",children:e.jsx(me,{className:"h-6 w-6 text-slate-700"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Need to cancel?"}),e.jsxs("p",{className:"text-sm text-slate-500",children:["You can cancel this booking until:",e.jsx("span",{className:"font-medium block",children:new Date(t.cancellationDeadline||t.cancellation_deadline).toLocaleString()})]})]})]}),e.jsx(N,{variant:"outline",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:o,children:"Cancel Booking"})]}),e.jsxs("div",{className:"flex justify-between gap-4 pt-4",children:[e.jsx(N,{variant:"outline",asChild:!0,children:e.jsx(u,{to:"/dashboard",children:"View All Shipments"})}),e.jsx(N,{onClick:c,className:"bg-green-600 hover:bg-green-700 text-white",children:"Book Another Shipment"})]})]})]}),je=({currentStep:t})=>e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full "+(t>=1?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:e.jsx("span",{className:"text-xs font-bold",children:"1"})}),e.jsx("h2",{className:"text-sm "+(t>=1?"font-medium":"text-muted-foreground"),children:"Overview"}),e.jsx("div",{className:"flex-1 flex items-center gap-4",children:e.jsx("div",{className:"flex-1 h-px bg-border"})}),e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full "+(t>=2?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:e.jsx("span",{className:"text-xs font-bold",children:"2"})}),e.jsx("span",{className:"text-sm "+(t>=2?"font-medium":"text-muted-foreground"),children:"Package Details"}),e.jsx("div",{className:"flex-1 flex items-center gap-4",children:e.jsx("div",{className:"flex-1 h-px bg-border"})}),e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full "+(t>=3?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:e.jsx("span",{className:"text-xs font-bold",children:"3"})}),e.jsx("span",{className:"text-sm "+(t>=3?"font-medium":"text-muted-foreground"),children:"Address"}),e.jsx("div",{className:"flex-1 flex items-center gap-4",children:e.jsx("div",{className:"flex-1 h-px bg-border"})}),e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full "+(t>=4?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:e.jsx("span",{className:"text-xs font-bold",children:"4"})}),e.jsx("span",{className:"text-sm "+(t>=4?"font-medium":"text-muted-foreground"),children:"Payment"})]}),{createElement:Ne,createContext:we,createRef:ke,forwardRef:Se,useCallback:Ce,useContext:Pe,useEffect:Ee,useImperativeHandle:Ie,useLayoutEffect:De,useMemo:Le,useRef:ze,useState:Ae}=m,Re=m[`useId${Math.random()}`.slice(0,5)],Me=De,Fe=we(null);
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */Fe.displayName="PanelGroupContext";const Te=Me,$e="function"==typeof Re?Re:()=>null;let _e=0;function Oe(e=null){const t=$e(),n=ze(e||t||null);return null===n.current&&(n.current=""+_e++),null!=e?e:n.current}function Be({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:a,forwardedRef:s,id:l,maxSize:i,minSize:o,onCollapse:c,onExpand:d,onResize:u,order:m,style:p,tagName:h="div",...x}){const f=Pe(Fe);if(null===f)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:g,expandPanel:v,getPanelSize:y,getPanelStyle:b,groupId:j,isPanelCollapsed:N,reevaluatePanelConstraints:w,registerPanel:k,resizePanel:S,unregisterPanel:C}=f,P=Oe(l),E=ze({callbacks:{onCollapse:c,onExpand:d,onResize:u},constraints:{collapsedSize:n,collapsible:r,defaultSize:a,maxSize:i,minSize:o},id:P,idIsFromProps:void 0!==l,order:m});ze({didLogMissingDefaultSizeWarning:!1}),Te((()=>{const{callbacks:e,constraints:t}=E.current,s={...t};E.current.id=P,E.current.idIsFromProps=void 0!==l,E.current.order=m,e.onCollapse=c,e.onExpand=d,e.onResize=u,t.collapsedSize=n,t.collapsible=r,t.defaultSize=a,t.maxSize=i,t.minSize=o,s.collapsedSize===t.collapsedSize&&s.collapsible===t.collapsible&&s.maxSize===t.maxSize&&s.minSize===t.minSize||w(E.current,s)})),Te((()=>{const e=E.current;return k(e),()=>{C(e)}}),[m,P,k,C]),Ie(s,(()=>({collapse:()=>{g(E.current)},expand:e=>{v(E.current,e)},getId:()=>P,getSize:()=>y(E.current),isCollapsed:()=>N(E.current),isExpanded:()=>!N(E.current),resize:e=>{S(E.current,e)}})),[g,v,y,N,P,S]);const I=b(E.current,a);return Ne(h,{...x,children:e,className:t,id:l,style:{...I,...p},"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-group-id":j,"data-panel-id":P,"data-panel-size":parseFloat(""+I.flexGrow).toFixed(1)})}const Ve=Se(((e,t)=>Ne(Be,{...e,forwardedRef:t})));Be.displayName="Panel",Ve.displayName="forwardRef(Panel)";let He=null,Ge=null;function qe(e,t){const n=function(e,t){if(t){const e=!!(t&at),n=!!(t&st);if(t&nt)return e?"se-resize":n?"ne-resize":"e-resize";if(t&rt)return e?"sw-resize":n?"nw-resize":"w-resize";if(e)return"s-resize";if(n)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}(e,t);He!==n&&(He=n,null===Ge&&(Ge=document.createElement("style"),document.head.appendChild(Ge)),Ge.innerHTML=`*{cursor: ${n}!important;}`)}function Ue(e){return"keydown"===e.type}function We(e){return e.type.startsWith("pointer")}function Xe(e){return e.type.startsWith("mouse")}function Ke(e){if(We(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(Xe(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}const Ye=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Je(e){const t=getComputedStyle(e);return"fixed"===t.position||(!("auto"===t.zIndex||"static"===t.position&&!function(e){var t;const n=getComputedStyle(null!==(t=tt(e))&&void 0!==t?t:e).display;return"flex"===n||"inline-flex"===n}(e))||(+t.opacity<1||("transform"in t&&"none"!==t.transform||("webkitTransform"in t&&"none"!==t.webkitTransform||("mixBlendMode"in t&&"normal"!==t.mixBlendMode||("filter"in t&&"none"!==t.filter||("webkitFilter"in t&&"none"!==t.webkitFilter||("isolation"in t&&"isolate"===t.isolation||(!!Ye.test(t.willChange)||"touch"===t.webkitOverflowScrolling)))))))))}function Ze(e){let t=e.length;for(;t--;){const n=e[t];if(bt(n,"Missing node"),Je(n))return n}return null}function Qe(e){return e&&Number(getComputedStyle(e).zIndex)||0}function et(e){const t=[];for(;e;)t.push(e),e=tt(e);return t}function tt(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const nt=1,rt=2,at=4,st=8,lt="coarse"===function(){if("function"==typeof matchMedia)return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}();let it=[],ot=!1,ct=new Map,dt=new Map;const ut=new Set;function mt(e){const{target:t}=e,{x:n,y:r}=Ke(e);ot=!0,xt({target:t,x:n,y:r}),vt(),it.length>0&&(yt("down",e),e.preventDefault(),e.stopPropagation())}function pt(e){const{x:t,y:n}=Ke(e);if(ot&&0===e.buttons&&(ot=!1,yt("up",e)),!ot){const{target:r}=e;xt({target:r,x:t,y:n})}yt("move",e),gt(),it.length>0&&e.preventDefault()}function ht(e){const{target:t}=e,{x:n,y:r}=Ke(e);dt.clear(),ot=!1,it.length>0&&e.preventDefault(),yt("up",e),xt({target:t,x:n,y:r}),gt(),vt()}function xt({target:e,x:t,y:n}){it.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),ut.forEach((e=>{const{element:a,hitAreaMargins:s}=e,l=a.getBoundingClientRect(),{bottom:i,left:o,right:c,top:d}=l,u=lt?s.coarse:s.fine;if(t>=o-u&&t<=c+u&&n>=d-u&&n<=i+u){if(null!==r&&document.contains(r)&&a!==r&&!a.contains(r)&&!r.contains(a)&&function(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:et(e),b:et(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;bt(r,"Stacking order can only be calculated for elements with a common ancestor");const a=Qe(Ze(n.a)),s=Qe(Ze(n.b));if(a===s){const e=r.childNodes,t={a:n.a.at(-1),b:n.b.at(-1)};let a=e.length;for(;a--;){const n=e[a];if(n===t.a)return 1;if(n===t.b)return-1}}return Math.sign(a-s)}(r,a)>0){let e=r,t=!1;for(;e&&!e.contains(a);){if(m=e.getBoundingClientRect(),p=l,m.x<p.x+p.width&&m.x+m.width>p.x&&m.y<p.y+p.height&&m.y+m.height>p.y){t=!0;break}e=e.parentElement}if(t)return}it.push(e)}var m,p}))}function ft(e,t){dt.set(e,t)}function gt(){let e=!1,t=!1;it.forEach((n=>{const{direction:r}=n;"horizontal"===r?e=!0:t=!0}));let n=0;dt.forEach((e=>{n|=e})),e&&t?qe("intersection",n):e?qe("horizontal",n):t?qe("vertical",n):null!==Ge&&(document.head.removeChild(Ge),He=null,Ge=null)}function vt(){ct.forEach(((e,t)=>{const{body:n}=t;n.removeEventListener("contextmenu",ht),n.removeEventListener("pointerdown",mt),n.removeEventListener("pointerleave",pt),n.removeEventListener("pointermove",pt)})),window.removeEventListener("pointerup",ht),window.removeEventListener("pointercancel",ht),ut.size>0&&(ot?(it.length>0&&ct.forEach(((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("contextmenu",ht),n.addEventListener("pointerleave",pt),n.addEventListener("pointermove",pt))})),window.addEventListener("pointerup",ht),window.addEventListener("pointercancel",ht)):ct.forEach(((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("pointerdown",mt,{capture:!0}),n.addEventListener("pointermove",pt))})))}function yt(e,t){ut.forEach((n=>{const{setResizeHandlerState:r}=n,a=it.includes(n);r(e,a,t)}))}function bt(e,t){if(!e)throw Error(t)}function jt(e,t,n=10){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function Nt(e,t,n=10){return 0===jt(e,t,n)}function wt(e,t,n){return 0===jt(e,t,n)}function kt({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];bt(null!=r,`Panel constraints not found for index ${t}`);let{collapsedSize:a=0,collapsible:s,maxSize:l=100,minSize:i=0}=r;if(jt(n,i)<0)if(s){n=jt(n,(a+i)/2)<0?a:i}else n=i;return n=Math.min(l,n),n=parseFloat(n.toFixed(10))}function St({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:a,trigger:s}){if(wt(e,0))return t;const l=[...t],[i,o]=r;bt(null!=i,"Invalid first pivot index"),bt(null!=o,"Invalid second pivot index");let c=0;if("keyboard"===s){{const r=e<0?o:i,a=n[r];bt(a,`Panel constraints not found for index ${r}`);const{collapsedSize:s=0,collapsible:l,minSize:c=0}=a;if(l){const n=t[r];if(bt(null!=n,`Previous layout not found for panel index ${r}`),wt(n,s)){const t=c-n;jt(t,Math.abs(e))>0&&(e=e<0?0-t:t)}}}{const r=e<0?i:o,a=n[r];bt(a,`No panel constraints found for index ${r}`);const{collapsedSize:s=0,collapsible:l,minSize:c=0}=a;if(l){const n=t[r];if(bt(null!=n,`Previous layout not found for panel index ${r}`),wt(n,c)){const t=n-s;jt(t,Math.abs(e))>0&&(e=e<0?0-t:t)}}}}{const r=e<0?1:-1;let a=e<0?o:i,s=0;for(;;){const e=t[a];bt(null!=e,`Previous layout not found for panel index ${a}`);if(s+=kt({panelConstraints:n,panelIndex:a,size:100})-e,a+=r,a<0||a>=n.length)break}const l=Math.min(Math.abs(e),Math.abs(s));e=e<0?0-l:l}{let r=e<0?i:o;for(;r>=0&&r<n.length;){const a=Math.abs(e)-Math.abs(c),s=t[r];bt(null!=s,`Previous layout not found for panel index ${r}`);const i=kt({panelConstraints:n,panelIndex:r,size:s-a});if(!wt(s,i)&&(c+=s-i,l[r]=i,c.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?r--:r++}}if(function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!wt(e[r],t[r],n))return!1;return!0}(a,l))return a;{const r=e<0?o:i,a=t[r];bt(null!=a,`Previous layout not found for panel index ${r}`);const s=a+c,d=kt({panelConstraints:n,panelIndex:r,size:s});if(l[r]=d,!wt(d,s)){let t=s-d;let r=e<0?o:i;for(;r>=0&&r<n.length;){const a=l[r];bt(null!=a,`Previous layout not found for panel index ${r}`);const s=kt({panelConstraints:n,panelIndex:r,size:a+t});if(wt(a,s)||(t-=s-a,l[r]=s),wt(t,0))break;e>0?r--:r++}}}return wt(l.reduce(((e,t)=>t+e),0),100)?l:a}function Ct({layout:e,panelsArray:t,pivotIndices:n}){let r=0,a=100,s=0,l=0;const i=n[0];bt(null!=i,"No pivot index found"),t.forEach(((e,t)=>{const{constraints:n}=e,{maxSize:o=100,minSize:c=0}=n;t===i?(r=c,a=o):(s+=c,l+=o)}));return{valueMax:Math.min(a,100-s),valueMin:Math.max(r,100-l),valueNow:e[i]}}function Pt(e,t=document){return Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function Et(e,t,n=document){const r=Pt(e,n).findIndex((e=>e.getAttribute("data-panel-resize-handle-id")===t));return null!=r?r:null}function It(e,t,n){const r=Et(e,t,n);return null!=r?[r,r+1]:[-1,-1]}function Dt(e,t=document){var n;if(t instanceof HTMLElement&&(null==t||null===(n=t.dataset)||void 0===n?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function Lt(e,t=document){const n=t.querySelector(`[data-panel-resize-handle-id="${e}"]`);return n||null}function zt({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:a,panelGroupElement:s,setLayout:l}){ze({didWarnAboutMissingResizeHandle:!1}),Te((()=>{if(!s)return;const e=Pt(n,s);for(let t=0;t<a.length-1;t++){const{valueMax:n,valueMin:s,valueNow:l}=Ct({layout:r,panelsArray:a,pivotIndices:[t,t+1]}),i=e[t];if(null==i);else{const e=a[t];bt(e,`No panel data found for index "${t}"`),i.setAttribute("aria-controls",e.id),i.setAttribute("aria-valuemax",""+Math.round(n)),i.setAttribute("aria-valuemin",""+Math.round(s)),i.setAttribute("aria-valuenow",null!=l?""+Math.round(l):"")}}return()=>{e.forEach(((e,t)=>{e.removeAttribute("aria-controls"),e.removeAttribute("aria-valuemax"),e.removeAttribute("aria-valuemin"),e.removeAttribute("aria-valuenow")}))}}),[n,r,a,s]),Ee((()=>{if(!s)return;const e=t.current;bt(e,"Eager values not found");const{panelDataArray:a}=e;bt(null!=Dt(n,s),`No group found for id "${n}"`);const i=Pt(n,s);bt(i,`No resize handles found for group id "${n}"`);const o=i.map((e=>{const t=e.getAttribute("data-panel-resize-handle-id");bt(t,"Resize handle element has no handle id attribute");const[i,o]=function(e,t,n,r=document){var a,s,l,i;const o=Lt(t,r),c=Pt(e,r),d=o?c.indexOf(o):-1;return[null!==(a=null===(s=n[d])||void 0===s?void 0:s.id)&&void 0!==a?a:null,null!==(l=null===(i=n[d+1])||void 0===i?void 0:i.id)&&void 0!==l?l:null]}(n,t,a,s);if(null==i||null==o)return()=>{};const c=e=>{if(!e.defaultPrevented)switch(e.key){case"Enter":{e.preventDefault();const o=a.findIndex((e=>e.id===i));if(o>=0){const e=a[o];bt(e,`No panel data found for index ${o}`);const i=r[o],{collapsedSize:c=0,collapsible:d,minSize:u=0}=e.constraints;if(null!=i&&d){const e=St({delta:wt(i,c)?u-c:c-i,initialLayout:r,panelConstraints:a.map((e=>e.constraints)),pivotIndices:It(n,t,s),prevLayout:r,trigger:"keyboard"});r!==e&&l(e)}}break}}};return e.addEventListener("keydown",c),()=>{e.removeEventListener("keydown",c)}}));return()=>{o.forEach((e=>e()))}}),[s,e,t,n,r,a,l])}function At(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Rt(e,t){const n="horizontal"===e,{x:r,y:a}=Ke(t);return n?r:a}function Mt(e,t,n,r,a,s){if(Ue(e)){const t="horizontal"===n;let r=0;r=e.shiftKey?100:null!=a?a:10;let s=0;switch(e.key){case"ArrowDown":s=t?0:r;break;case"ArrowLeft":s=t?-r:0;break;case"ArrowRight":s=t?r:0;break;case"ArrowUp":s=t?0:-r;break;case"End":s=100;break;case"Home":s=-100}return s}return null==r?0:function(e,t,n,r,a){const s="horizontal"===n,l=Lt(t,a);bt(l,`No resize handle element found for id "${t}"`);const i=l.getAttribute("data-panel-group-id");bt(i,"Resize handle element has no group id attribute");let{initialCursorPosition:o}=r;const c=Rt(n,e),d=Dt(i,a);bt(d,`No group element found for id "${i}"`);const u=d.getBoundingClientRect();return(c-o)/(s?u.width:u.height)*100}(e,t,n,r,s)}function Ft(e,t,n){t.forEach(((t,r)=>{const a=e[r];bt(a,`Panel data not found for index ${r}`);const{callbacks:s,constraints:l,id:i}=a,{collapsedSize:o=0,collapsible:c}=l,d=n[i];if(null==d||t!==d){n[i]=t;const{onCollapse:e,onExpand:r,onResize:a}=s;a&&a(t,d),c&&(e||r)&&(!r||null!=d&&!Nt(d,o)||Nt(t,o)||r(),!e||null!=d&&Nt(d,o)||!Nt(t,o)||e())}}))}function Tt(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function $t(e){try{if("undefined"==typeof localStorage)throw new Error("localStorage not supported in this environment");e.getItem=e=>localStorage.getItem(e),e.setItem=(e,t)=>{localStorage.setItem(e,t)}}catch(t){e.getItem=()=>null,e.setItem=()=>{}}}function _t(e){return`react-resizable-panels:${e}`}function Ot(e){return e.map((e=>{const{constraints:t,id:n,idIsFromProps:r,order:a}=e;return r?n:a?`${a}:${JSON.stringify(t)}`:JSON.stringify(t)})).sort(((e,t)=>e.localeCompare(t))).join(",")}function Bt(e,t){try{const n=_t(e),r=t.getItem(n);if(r){const e=JSON.parse(r);if("object"==typeof e&&null!=e)return e}}catch(n){}return null}function Vt(e,t,n,r,a){var s;const l=_t(e),i=Ot(t),o=null!==(s=Bt(e,a))&&void 0!==s?s:{};o[i]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{a.setItem(l,JSON.stringify(o))}catch(c){}}function Ht({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce(((e,t)=>e+t),0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map((e=>`${e}%`)).join(", ")}`);if(!wt(r,100)&&n.length>0)for(let s=0;s<t.length;s++){const e=n[s];bt(null!=e,`No layout data found for index ${s}`);const t=100/r*e;n[s]=t}let a=0;for(let s=0;s<t.length;s++){const e=n[s];bt(null!=e,`No layout data found for index ${s}`);const r=kt({panelConstraints:t,panelIndex:s,size:e});e!=r&&(a+=e-r,n[s]=r)}if(!wt(a,0))for(let s=0;s<t.length;s++){const e=n[s];bt(null!=e,`No layout data found for index ${s}`);const r=kt({panelConstraints:t,panelIndex:s,size:e+a});if(e!==r&&(a-=r-e,n[s]=r,wt(a,0)))break}return n}const Gt={getItem:e=>($t(Gt),Gt.getItem(e)),setItem:(e,t)=>{$t(Gt),Gt.setItem(e,t)}},qt={};function Ut({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:a,id:s=null,onLayout:l=null,keyboardResizeBy:i=null,storage:o=Gt,style:c,tagName:d="div",...u}){const m=Oe(s),p=ze(null),[h,x]=Ae(null),[f,g]=Ae([]),v=function(){const[e,t]=Ae(0);return Ce((()=>t((e=>e+1))),[])}(),y=ze({}),b=ze(new Map),j=ze(0),N=ze({autoSaveId:e,direction:r,dragState:h,id:m,keyboardResizeBy:i,onLayout:l,storage:o}),w=ze({layout:f,panelDataArray:[],panelDataArrayChanged:!1});ze({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),Ie(a,(()=>({getId:()=>N.current.id,getLayout:()=>{const{layout:e}=w.current;return e},setLayout:e=>{const{onLayout:t}=N.current,{layout:n,panelDataArray:r}=w.current,a=Ht({layout:e,panelConstraints:r.map((e=>e.constraints))});At(n,a)||(g(a),w.current.layout=a,t&&t(a),Ft(r,a,y.current))}})),[]),Te((()=>{N.current.autoSaveId=e,N.current.direction=r,N.current.dragState=h,N.current.id=m,N.current.onLayout=l,N.current.storage=o})),zt({committedValuesRef:N,eagerValuesRef:w,groupId:m,layout:f,panelDataArray:w.current.panelDataArray,setLayout:g,panelGroupElement:p.current}),Ee((()=>{const{panelDataArray:t}=w.current;if(e){if(0===f.length||f.length!==t.length)return;let n=qt[e];null==n&&(n=function(e,t=10){let n=null;return(...r)=>{null!==n&&clearTimeout(n),n=setTimeout((()=>{e(...r)}),t)}}(Vt,100),qt[e]=n);const r=[...t],a=new Map(b.current);n(e,r,a,f,o)}}),[e,f,o]),Ee((()=>{}));const k=Ce((e=>{const{onLayout:t}=N.current,{layout:n,panelDataArray:r}=w.current;if(e.constraints.collapsible){const a=r.map((e=>e.constraints)),{collapsedSize:s=0,panelSize:l,pivotIndices:i}=Kt(r,e,n);if(bt(null!=l,`Panel size not found for panel "${e.id}"`),!Nt(l,s)){b.current.set(e.id,l);const o=St({delta:Xt(r,e)===r.length-1?l-s:s-l,initialLayout:n,panelConstraints:a,pivotIndices:i,prevLayout:n,trigger:"imperative-api"});Tt(n,o)||(g(o),w.current.layout=o,t&&t(o),Ft(r,o,y.current))}}}),[]),S=Ce(((e,t)=>{const{onLayout:n}=N.current,{layout:r,panelDataArray:a}=w.current;if(e.constraints.collapsible){const s=a.map((e=>e.constraints)),{collapsedSize:l=0,panelSize:i=0,minSize:o=0,pivotIndices:c}=Kt(a,e,r),d=null!=t?t:o;if(Nt(i,l)){const t=b.current.get(e.id),l=null!=t&&t>=d?t:d,o=St({delta:Xt(a,e)===a.length-1?i-l:l-i,initialLayout:r,panelConstraints:s,pivotIndices:c,prevLayout:r,trigger:"imperative-api"});Tt(r,o)||(g(o),w.current.layout=o,n&&n(o),Ft(a,o,y.current))}}}),[]),C=Ce((e=>{const{layout:t,panelDataArray:n}=w.current,{panelSize:r}=Kt(n,e,t);return bt(null!=r,`Panel size not found for panel "${e.id}"`),r}),[]),P=Ce(((e,t)=>{const{panelDataArray:n}=w.current,r=Xt(n,e);return function({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:a,precision:s=3}){const l=n[a];let i;return i=null==l?null!=e?e.toPrecision(s):"1":1===r.length?"1":l.toPrecision(s),{flexBasis:0,flexGrow:i,flexShrink:1,overflow:"hidden",pointerEvents:null!==t?"none":void 0}}({defaultSize:t,dragState:h,layout:f,panelData:n,panelIndex:r})}),[h,f]),E=Ce((e=>{const{layout:t,panelDataArray:n}=w.current,{collapsedSize:r=0,collapsible:a,panelSize:s}=Kt(n,e,t);return bt(null!=s,`Panel size not found for panel "${e.id}"`),!0===a&&Nt(s,r)}),[]),I=Ce((e=>{const{layout:t,panelDataArray:n}=w.current,{collapsedSize:r=0,collapsible:a,panelSize:s}=Kt(n,e,t);return bt(null!=s,`Panel size not found for panel "${e.id}"`),!a||jt(s,r)>0}),[]),D=Ce((e=>{const{panelDataArray:t}=w.current;t.push(e),t.sort(((e,t)=>{const n=e.order,r=t.order;return null==n&&null==r?0:null==n?-1:null==r?1:n-r})),w.current.panelDataArrayChanged=!0,v()}),[v]);Te((()=>{if(w.current.panelDataArrayChanged){w.current.panelDataArrayChanged=!1;const{autoSaveId:e,onLayout:t,storage:n}=N.current,{layout:r,panelDataArray:a}=w.current;let s=null;if(e){const t=function(e,t,n){var r,a;return null!==(a=(null!==(r=Bt(e,n))&&void 0!==r?r:{})[Ot(t)])&&void 0!==a?a:null}(e,a,n);t&&(b.current=new Map(Object.entries(t.expandToSizes)),s=t.layout)}null==s&&(s=function({panelDataArray:e}){const t=Array(e.length),n=e.map((e=>e.constraints));let r=0,a=100;for(let s=0;s<e.length;s++){const e=n[s];bt(e,`Panel constraints not found for index ${s}`);const{defaultSize:l}=e;null!=l&&(r++,t[s]=l,a-=l)}for(let s=0;s<e.length;s++){const l=n[s];bt(l,`Panel constraints not found for index ${s}`);const{defaultSize:i}=l;if(null!=i)continue;const o=a/(e.length-r);r++,t[s]=o,a-=o}return t}({panelDataArray:a}));const l=Ht({layout:s,panelConstraints:a.map((e=>e.constraints))});At(r,l)||(g(l),w.current.layout=l,t&&t(l),Ft(a,l,y.current))}})),Te((()=>{const e=w.current;return()=>{e.layout=[]}}),[]);const L=Ce((e=>{let t=!1;const n=p.current;if(n){"rtl"===window.getComputedStyle(n,null).getPropertyValue("direction")&&(t=!0)}return function(n){n.preventDefault();const r=p.current;if(!r)return()=>null;const{direction:a,dragState:s,id:l,keyboardResizeBy:i,onLayout:o}=N.current,{layout:c,panelDataArray:d}=w.current,{initialLayout:u}=null!=s?s:{},m=It(l,e,r);let h=Mt(n,e,a,s,i,r);const x="horizontal"===a;x&&t&&(h=-h);const f=St({delta:h,initialLayout:null!=u?u:c,panelConstraints:d.map((e=>e.constraints)),pivotIndices:m,prevLayout:c,trigger:Ue(n)?"keyboard":"mouse-or-touch"}),v=!Tt(c,f);(We(n)||Xe(n))&&j.current!=h&&(j.current=h,ft(e,v||0===h?0:x?h<0?nt:rt:h<0?at:st)),v&&(g(f),w.current.layout=f,o&&o(f),Ft(d,f,y.current))}}),[]),z=Ce(((e,t)=>{const{onLayout:n}=N.current,{layout:r,panelDataArray:a}=w.current,s=a.map((e=>e.constraints)),{panelSize:l,pivotIndices:i}=Kt(a,e,r);bt(null!=l,`Panel size not found for panel "${e.id}"`);const o=St({delta:Xt(a,e)===a.length-1?l-t:t-l,initialLayout:r,panelConstraints:s,pivotIndices:i,prevLayout:r,trigger:"imperative-api"});Tt(r,o)||(g(o),w.current.layout=o,n&&n(o),Ft(a,o,y.current))}),[]),A=Ce(((e,t)=>{const{layout:n,panelDataArray:r}=w.current,{collapsedSize:a=0,collapsible:s}=t,{collapsedSize:l=0,collapsible:i,maxSize:o=100,minSize:c=0}=e.constraints,{panelSize:d}=Kt(r,e,n);null!=d&&(s&&i&&Nt(d,a)?Nt(a,l)||z(e,l):d<c?z(e,c):d>o&&z(e,o))}),[z]),R=Ce(((e,t)=>{const{direction:n}=N.current,{layout:r}=w.current;if(!p.current)return;const a=Lt(e,p.current);bt(a,`Drag handle element not found for id "${e}"`);const s=Rt(n,t);x({dragHandleId:e,dragHandleRect:a.getBoundingClientRect(),initialCursorPosition:s,initialLayout:r})}),[]),M=Ce((()=>{x(null)}),[]),F=Ce((e=>{const{panelDataArray:t}=w.current,n=Xt(t,e);n>=0&&(t.splice(n,1),delete y.current[e.id],w.current.panelDataArrayChanged=!0,v())}),[v]),T=Le((()=>({collapsePanel:k,direction:r,dragState:h,expandPanel:S,getPanelSize:C,getPanelStyle:P,groupId:m,isPanelCollapsed:E,isPanelExpanded:I,reevaluatePanelConstraints:A,registerPanel:D,registerResizeHandle:L,resizePanel:z,startDragging:R,stopDragging:M,unregisterPanel:F,panelGroupElement:p.current})),[k,h,r,S,C,P,m,E,I,A,D,L,z,R,M,F]),$={display:"flex",flexDirection:"horizontal"===r?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return Ne(Fe.Provider,{value:T},Ne(d,{...u,children:t,className:n,id:s,ref:p,style:{...$,...c},"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":m}))}const Wt=Se(((e,t)=>Ne(Ut,{...e,forwardedRef:t})));function Xt(e,t){return e.findIndex((e=>e===t||e.id===t.id))}function Kt(e,t,n){const r=Xt(e,t),a=r===e.length-1?[r-1,r]:[r,r+1],s=n[r];return{...t.constraints,panelSize:s,pivotIndices:a}}function Yt({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:a,onBlur:s,onDragging:l,onFocus:i,style:o={},tabIndex:c=0,tagName:d="div",...u}){var m,p;const h=ze(null),x=ze({onDragging:l});Ee((()=>{x.current.onDragging=l}));const f=Pe(Fe);if(null===f)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:g,groupId:v,registerResizeHandle:y,startDragging:b,stopDragging:j,panelGroupElement:N}=f,w=Oe(a),[k,S]=Ae("inactive"),[C,P]=Ae(!1),[E,I]=Ae(null),D=ze({state:k});Te((()=>{D.current.state=k})),Ee((()=>{if(n)I(null);else{const e=y(w);I((()=>e))}}),[n,w,y]);const L=null!==(m=null==r?void 0:r.coarse)&&void 0!==m?m:15,z=null!==(p=null==r?void 0:r.fine)&&void 0!==p?p:5;Ee((()=>{if(n||null==E)return;const e=h.current;bt(e,"Element ref not attached");return function(e,t,n,r,a){var s;const{ownerDocument:l}=t,i={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:a},o=null!==(s=ct.get(l))&&void 0!==s?s:0;return ct.set(l,o+1),ut.add(i),vt(),function(){var t;dt.delete(e),ut.delete(i);const n=null!==(t=ct.get(l))&&void 0!==t?t:1;if(ct.set(l,n-1),vt(),1===n&&ct.delete(l),it.includes(i)){const e=it.indexOf(i);e>=0&&it.splice(e,1),gt(),a("up",!0,null)}}}(w,e,g,{coarse:L,fine:z},((e,t,n)=>{if(t)switch(e){case"down":{S("drag"),bt(n,'Expected event to be defined for "down" action'),b(w,n);const{onDragging:e}=x.current;e&&e(!0);break}case"move":{const{state:e}=D.current;"drag"!==e&&S("hover"),bt(n,'Expected event to be defined for "move" action'),E(n);break}case"up":{S("hover"),j();const{onDragging:e}=x.current;e&&e(!1);break}}else S("inactive")}))}),[L,g,n,z,y,w,E,b,j]),function({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){Ee((()=>{if(e||null==n||null==r)return;const a=Lt(t,r);if(null==a)return;const s=e=>{if(!e.defaultPrevented)switch(e.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":e.preventDefault(),n(e);break;case"F6":{e.preventDefault();const n=a.getAttribute("data-panel-group-id");bt(n,`No group element found for id "${n}"`);const s=Pt(n,r),l=Et(n,t,r);bt(null!==l,`No resize element found for id "${t}"`),s[e.shiftKey?l>0?l-1:s.length-1:l+1<s.length?l+1:0].focus();break}}};return a.addEventListener("keydown",s),()=>{a.removeEventListener("keydown",s)}}),[r,e,t,n])}({disabled:n,handleId:w,resizeHandler:E,panelGroupElement:N});return Ne(d,{...u,children:e,className:t,id:a,onBlur:()=>{P(!1),null==s||s()},onFocus:()=>{P(!0),null==i||i()},ref:h,role:"separator",style:{touchAction:"none",userSelect:"none",...o},tabIndex:c,"data-panel-group-direction":g,"data-panel-group-id":v,"data-resize-handle":"","data-resize-handle-active":"drag"===k?"pointer":C?"keyboard":void 0,"data-resize-handle-state":k,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":w})}Ut.displayName="PanelGroup",Wt.displayName="forwardRef(PanelGroup)",Yt.displayName="PanelResizeHandle";const Jt=({className:t,...n})=>e.jsx(Wt,{className:w("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...n}),Zt=Ve,Qt=({withHandle:t,className:n,...r})=>e.jsx(Yt,{className:w("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",n),...r,children:t&&e.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:e.jsx(xe,{className:"h-2.5 w-2.5"})})}),en=({pickupCountry:t,setPickupCountry:n,pickupPostalCode:r,setPickupPostalCode:a,deliveryCountry:s,setDeliveryCountry:l,deliveryPostalCode:i,setDeliveryPostalCode:o,onSwapLocations:c})=>e.jsxs(Jt,{direction:"horizontal",className:"min-h-[200px] rounded-lg border mb-8",children:[e.jsx(Zt,{defaultSize:50,children:e.jsxs("div",{className:"p-0",children:[e.jsx("div",{className:"bg-slate-700 text-white p-3 font-semibold",children:"Från"}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"fromCountry",children:"Land"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:"fromCountry",className:"w-full h-10 pl-10 pr-4 rounded-md border border-input bg-background appearance-none cursor-pointer",value:t,onChange:e=>n(e.target.value),children:[e.jsx("option",{value:"SE",children:"Sverige"}),e.jsx("option",{value:"FI",children:"Finland"}),e.jsx("option",{value:"NO",children:"Norge"}),e.jsx("option",{value:"DK",children:"Danmark"})]}),e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:k(t)}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M1 1.5L6 6.5L11 1.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"fromPostal",children:"Postnummer"}),e.jsx(S,{id:"fromPostal",placeholder:"Enter postal code",value:r,onChange:e=>a(e.target.value)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r,", Stockholm"]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"fromCompany",name:"fromType",className:"h-4 w-4 rounded-full border-gray-300 text-primary focus:ring-primary"}),e.jsx(g,{htmlFor:"fromCompany",children:"Företag"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"fromPrivate",name:"fromType",className:"h-4 w-4 rounded-full border-gray-300 text-primary focus:ring-primary",defaultChecked:!0}),e.jsx(g,{htmlFor:"fromPrivate",children:"Privatperson"})]})]})]})]})}),e.jsx(Qt,{withHandle:!0,children:e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-2 rounded-full bg-slate-200 hover:bg-slate-300 cursor-pointer z-10",onClick:c,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M7 16L3 12M3 12L7 8M3 12H21M17 8L21 12M21 12L17 16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),e.jsx(Zt,{defaultSize:50,children:e.jsxs("div",{className:"p-0",children:[e.jsx("div",{className:"bg-slate-700 text-white p-3 font-semibold",children:"Till"}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"toCountry",children:"Land"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:"toCountry",className:"w-full h-10 pl-10 pr-4 rounded-md border border-input bg-background appearance-none cursor-pointer",value:s,onChange:e=>l(e.target.value),children:[e.jsx("option",{value:"SE",children:"Sverige"}),e.jsx("option",{value:"FI",children:"Finland"}),e.jsx("option",{value:"NO",children:"Norge"}),e.jsx("option",{value:"DK",children:"Danmark"})]}),e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:k(s)}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M1 1.5L6 6.5L11 1.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"toPostal",children:"Postnummer"}),e.jsx(S,{id:"toPostal",placeholder:"Enter postal code",value:i,onChange:e=>o(e.target.value)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i,", Helsinki"]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"toCompany",name:"toType",className:"h-4 w-4 rounded-full border-gray-300 text-primary focus:ring-primary"}),e.jsx(g,{htmlFor:"toCompany",children:"Företag"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"toPrivate",name:"toType",className:"h-4 w-4 rounded-full border-gray-300 text-primary focus:ring-primary",defaultChecked:!0}),e.jsx(g,{htmlFor:"toPrivate",children:"Privatperson"})]})]})]})]})})]}),tn=({senderName:t,setSenderName:n,senderEmail:r,setSenderEmail:a,senderPhone:s,setSenderPhone:l,senderAddress:i,setSenderAddress:o,recipientName:c,setRecipientName:d,recipientEmail:u,setRecipientEmail:m,recipientPhone:p,setRecipientPhone:h,recipientAddress:x,setRecipientAddress:f,pickupCountry:v,pickupPostalCode:y,deliveryCountry:b,deliveryPostalCode:j})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border rounded-lg mb-8",children:[e.jsx("div",{className:"bg-slate-700 text-white p-3 font-semibold",children:"Avsändare"}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"senderName",children:"Namn"}),e.jsx(S,{id:"senderName",placeholder:"Avsändarens namn",value:t,onChange:e=>n(e.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"senderPhone",children:"Telefon"}),e.jsx(S,{id:"senderPhone",placeholder:"Telefonnummer",value:s,onChange:e=>l(e.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"senderEmail",children:"E-post"}),e.jsx(S,{id:"senderEmail",type:"email",placeholder:"E-postadress",value:r,onChange:e=>a(e.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"senderAddress",children:"Adress"}),e.jsx(S,{id:"senderAddress",placeholder:"Gatunamn, husnummer",value:i,onChange:e=>o(e.target.value),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"senderPostalCode",children:"Postnummer"}),e.jsx(S,{id:"senderPostalCode",value:y,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"senderCountry",children:"Land"}),e.jsx(S,{id:"senderCountry",value:v,disabled:!0})]})]})]})]}),e.jsxs("div",{className:"border rounded-lg mb-8",children:[e.jsx("div",{className:"bg-slate-700 text-white p-3 font-semibold",children:"Mottagare"}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"recipientName",children:"Namn"}),e.jsx(S,{id:"recipientName",placeholder:"Mottagarens namn",value:c,onChange:e=>d(e.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"recipientPhone",children:"Telefon"}),e.jsx(S,{id:"recipientPhone",placeholder:"Telefonnummer",value:p,onChange:e=>h(e.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"recipientEmail",children:"E-post"}),e.jsx(S,{id:"recipientEmail",type:"email",placeholder:"E-postadress",value:u,onChange:e=>m(e.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"recipientAddress",children:"Adress"}),e.jsx(S,{id:"recipientAddress",placeholder:"Gatunamn, husnummer",value:x,onChange:e=>f(e.target.value),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"recipientPostalCode",children:"Postnummer"}),e.jsx(S,{id:"recipientPostalCode",value:j,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"recipientCountry",children:"Land"}),e.jsx(S,{id:"recipientCountry",value:b,disabled:!0})]})]})]})]})]}),nn=({senderName:t,senderAddress:n,pickupPostalCode:r,pickupCountry:a,recipientName:s,recipientAddress:l,deliveryPostalCode:i,deliveryCountry:o})=>e.jsxs("div",{className:"bg-slate-50 p-6 rounded-lg border",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Sammanfattning"}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"bg-slate-200 p-3 rounded-md",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-slate-700",children:[e.jsx("path",{d:"M12 3L20 7.5V16.5L12 21L4 16.5V7.5L12 3Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M12 12L20 7.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M12 12V21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M12 12L4 7.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 flex-1",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Från"}),e.jsx("p",{children:t}),e.jsx("p",{children:r}),e.jsx("p",{children:n||"Stockholm"}),e.jsx("p",{children:C(a)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Till"}),e.jsx("p",{children:s}),e.jsx("p",{children:i}),e.jsx("p",{children:l||"Helsinki"}),e.jsx("p",{children:C(o)})]})]})]})]});function rn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function an(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function sn(...e){return t=>{let n=!1;const r=e.map((e=>{const r=an(e,t);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():an(e[t],null)}}}}function ln(...e){return p.useCallback(sn(...e),e)}var on=p.forwardRef(((t,n)=>{const{children:r,...a}=t,s=p.Children.toArray(r),l=s.find(un);if(l){const t=l.props.children,r=s.map((e=>e===l?p.Children.count(t)>1?p.Children.only(null):p.isValidElement(t)?t.props.children:null:e));return e.jsx(cn,{...a,ref:n,children:p.isValidElement(t)?p.cloneElement(t,void 0,r):null})}return e.jsx(cn,{...a,ref:n,children:r})}));on.displayName="Slot";var cn=p.forwardRef(((e,t)=>{const{children:n,...r}=e;if(p.isValidElement(n)){const e=function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(n),a=function(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...e)=>{s(...e),a(...e)}:a&&(n[r]=a):"style"===r?n[r]={...a,...s}:"className"===r&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==p.Fragment&&(a.ref=t?sn(t,e):e),p.cloneElement(n,a)}return p.Children.count(n)>1?p.Children.only(null):null}));cn.displayName="SlotClone";var dn=({children:t})=>e.jsx(e.Fragment,{children:t});function un(e){return p.isValidElement(e)&&e.type===dn}var mn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((t,n)=>{const r=p.forwardRef(((t,r)=>{const{asChild:a,...s}=t,l=a?on:n;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),e.jsx(l,{...s,ref:r})}));return r.displayName=`Primitive.${n}`,{...t,[n]:r}}),{});var pn="rovingFocusGroup.onEntryFocus",hn={bubbles:!1,cancelable:!0},xn="RovingFocusGroup",[fn,gn,vn]=function(n){const r=n+"CollectionProvider",[a,s]=t(r),[l,i]=a(r,{collectionRef:{current:null},itemMap:new Map}),o=t=>{const{scope:n,children:r}=t,a=h.useRef(null),s=h.useRef(new Map).current;return e.jsx(l,{scope:n,itemMap:s,collectionRef:a,children:r})};o.displayName=r;const c=n+"CollectionSlot",d=h.forwardRef(((t,n)=>{const{scope:r,children:a}=t,s=ln(n,i(c,r).collectionRef);return e.jsx(on,{ref:s,children:a})}));d.displayName=c;const u=n+"CollectionItemSlot",m="data-radix-collection-item",p=h.forwardRef(((t,n)=>{const{scope:r,children:a,...s}=t,l=h.useRef(null),o=ln(n,l),c=i(u,r);return h.useEffect((()=>(c.itemMap.set(l,{ref:l,...s}),()=>{c.itemMap.delete(l)}))),e.jsx(on,{[m]:"",ref:o,children:a})}));return p.displayName=u,[{Provider:o,Slot:d,ItemSlot:p},function(e){const t=i(n+"CollectionConsumer",e);return h.useCallback((()=>{const e=t.collectionRef.current;if(!e)return[];const n=Array.from(e.querySelectorAll(`[${m}]`));return Array.from(t.itemMap.values()).sort(((e,t)=>n.indexOf(e.ref.current)-n.indexOf(t.ref.current)))}),[t.collectionRef,t.itemMap])},s]}(xn),[yn,bn]=t(xn,[vn]),[jn,Nn]=yn(xn),wn=p.forwardRef(((t,n)=>e.jsx(fn.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(fn.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(kn,{...t,ref:n})})})));wn.displayName=xn;var kn=p.forwardRef(((t,s)=>{const{__scopeRovingFocusGroup:l,orientation:i,loop:o=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:m,onEntryFocus:h,preventScrollOnEntryFocus:x=!1,...f}=t,g=p.useRef(null),v=ln(s,g),y=n(c),[b=null,j]=r({prop:d,defaultProp:u,onChange:m}),[N,w]=p.useState(!1),k=a(h),S=gn(l),C=p.useRef(!1),[P,E]=p.useState(0);return p.useEffect((()=>{const e=g.current;if(e)return e.addEventListener(pn,k),()=>e.removeEventListener(pn,k)}),[k]),e.jsx(jn,{scope:l,orientation:i,dir:y,loop:o,currentTabStopId:b,onItemFocus:p.useCallback((e=>j(e)),[j]),onItemShiftTab:p.useCallback((()=>w(!0)),[]),onFocusableItemAdd:p.useCallback((()=>E((e=>e+1))),[]),onFocusableItemRemove:p.useCallback((()=>E((e=>e-1))),[]),children:e.jsx(mn.div,{tabIndex:N||0===P?-1:0,"data-orientation":i,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:rn(t.onMouseDown,(()=>{C.current=!0})),onFocus:rn(t.onFocus,(e=>{const t=!C.current;if(e.target===e.currentTarget&&t&&!N){const t=new CustomEvent(pn,hn);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=S().filter((e=>e.focusable));En([e.find((e=>e.active)),e.find((e=>e.id===b)),...e].filter(Boolean).map((e=>e.ref.current)),x)}}C.current=!1})),onBlur:rn(t.onBlur,(()=>w(!1)))})})})),Sn="RovingFocusGroupItem",Cn=p.forwardRef(((t,n)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:l=!1,tabStopId:i,...o}=t,c=s(),d=i||c,u=Nn(Sn,r),m=u.currentTabStopId===d,h=gn(r),{onFocusableItemAdd:x,onFocusableItemRemove:f}=u;return p.useEffect((()=>{if(a)return x(),()=>f()}),[a,x,f]),e.jsx(fn.ItemSlot,{scope:r,id:d,focusable:a,active:l,children:e.jsx(mn.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...o,ref:n,onMouseDown:rn(t.onMouseDown,(e=>{a?u.onItemFocus(d):e.preventDefault()})),onFocus:rn(t.onFocus,(()=>u.onItemFocus(d))),onKeyDown:rn(t.onKeyDown,(e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:Pn[r]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=h().filter((e=>e.focusable)).map((e=>e.ref.current));if("last"===t)a.reverse();else if("prev"===t||"next"===t){"prev"===t&&a.reverse();const s=a.indexOf(e.currentTarget);a=u.loop?(r=s+1,(n=a).map(((e,t)=>n[(r+t)%n.length]))):a.slice(s+1)}setTimeout((()=>En(a)))}var n,r}))})})}));Cn.displayName=Sn;var Pn={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function En(e,t=!1){const n=document.activeElement;for(const r of e){if(r===n)return;if(r.focus({preventScroll:t}),document.activeElement!==n)return}}var In=wn,Dn=Cn;var Ln=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=p.useState(),r=p.useRef({}),a=p.useRef(e),s=p.useRef("none"),i=e?"mounted":"unmounted",[o,c]=function(e,t){return p.useReducer(((e,n)=>t[e][n]??e),e)}(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect((()=>{const e=zn(r.current);s.current="mounted"===o?e:"none"}),[o]),l((()=>{const t=r.current,n=a.current;if(n!==e){const r=s.current,l=zn(t);if(e)c("MOUNT");else if("none"===l||"none"===(null==t?void 0:t.display))c("UNMOUNT");else{c(n&&r!==l?"ANIMATION_OUT":"UNMOUNT")}a.current=e}}),[e,c]),l((()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,l=s=>{const l=zn(r.current).includes(s.animationName);if(s.target===t&&l&&(c("ANIMATION_END"),!a.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)}))}},i=e=>{e.target===t&&(s.current=zn(r.current))};return t.addEventListener("animationstart",i),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",i),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}c("ANIMATION_END")}),[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:p.useCallback((e=>{e&&(r.current=getComputedStyle(e)),n(e)}),[])}}(t),a="function"==typeof n?n({present:r.isPresent}):p.Children.only(n),s=ln(r.ref,function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a)return e.props.ref;return e.props.ref||e.ref}(a));return"function"==typeof n||r.isPresent?p.cloneElement(a,{ref:s}):null};function zn(e){return(null==e?void 0:e.animationName)||"none"}Ln.displayName="Presence";var An="Radio",[Rn,Mn]=t(An),[Fn,Tn]=Rn(An),$n=p.forwardRef(((t,n)=>{const{__scopeRadio:r,name:a,checked:s=!1,required:l,disabled:i,value:o="on",onCheck:c,form:d,...u}=t,[m,h]=p.useState(null),x=ln(n,(e=>h(e))),f=p.useRef(!1),g=!m||(d||!!m.closest("form"));return e.jsxs(Fn,{scope:r,checked:s,disabled:i,children:[e.jsx(mn.button,{type:"button",role:"radio","aria-checked":s,"data-state":Vn(s),"data-disabled":i?"":void 0,disabled:i,value:o,...u,ref:x,onClick:rn(t.onClick,(e=>{s||null==c||c(),g&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())}))}),g&&e.jsx(Bn,{control:m,bubbles:!f.current,name:a,value:o,checked:s,required:l,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})}));$n.displayName=An;var _n="RadioIndicator",On=p.forwardRef(((t,n)=>{const{__scopeRadio:r,forceMount:a,...s}=t,l=Tn(_n,r);return e.jsx(Ln,{present:a||l.checked,children:e.jsx(mn.span,{"data-state":Vn(l.checked),"data-disabled":l.disabled?"":void 0,...s,ref:n})})}));On.displayName=_n;var Bn=t=>{const{control:n,checked:r,bubbles:a=!0,...s}=t,l=p.useRef(null),i=Z(r),o=P(n);return p.useEffect((()=>{const e=l.current,t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set;if(i!==r&&n){const t=new Event("click",{bubbles:a});n.call(e,r),e.dispatchEvent(t)}}),[i,r,a]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Vn(e){return e?"checked":"unchecked"}var Hn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Gn="RadioGroup",[qn,Un]=t(Gn,[bn,Mn]),Wn=bn(),Xn=Mn(),[Kn,Yn]=qn(Gn),Jn=p.forwardRef(((t,a)=>{const{__scopeRadioGroup:s,name:l,defaultValue:i,value:o,required:c=!1,disabled:d=!1,orientation:u,dir:m,loop:p=!0,onValueChange:h,...x}=t,f=Wn(s),g=n(m),[v,y]=r({prop:o,defaultProp:i,onChange:h});return e.jsx(Kn,{scope:s,name:l,required:c,disabled:d,value:v,onValueChange:y,children:e.jsx(In,{asChild:!0,...f,orientation:u,dir:g,loop:p,children:e.jsx(mn.div,{role:"radiogroup","aria-required":c,"aria-orientation":u,"data-disabled":d?"":void 0,dir:g,...x,ref:a})})})}));Jn.displayName=Gn;var Zn="RadioGroupItem",Qn=p.forwardRef(((t,n)=>{const{__scopeRadioGroup:r,disabled:a,...s}=t,l=Yn(Zn,r),i=l.disabled||a,o=Wn(r),c=Xn(r),d=p.useRef(null),u=ln(n,d),m=l.value===s.value,h=p.useRef(!1);return p.useEffect((()=>{const e=e=>{Hn.includes(e.key)&&(h.current=!0)},t=()=>h.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),e.jsx(Dn,{asChild:!0,...o,focusable:!i,active:m,children:e.jsx($n,{disabled:i,required:l.required,checked:m,...c,...s,name:l.name,ref:u,onCheck:()=>l.onValueChange(s.value),onKeyDown:rn((e=>{"Enter"===e.key&&e.preventDefault()})),onFocus:rn(s.onFocus,(()=>{var e;h.current&&(null==(e=d.current)||e.click())}))})})}));Qn.displayName=Zn;var er=p.forwardRef(((t,n)=>{const{__scopeRadioGroup:r,...a}=t,s=Xn(r);return e.jsx(On,{...s,...a,ref:n})}));er.displayName="RadioGroupIndicator";var tr=Jn,nr=Qn,rr=er;const ar=p.forwardRef((({className:t,...n},r)=>e.jsx(tr,{className:w("grid gap-2",t),...n,ref:r})));ar.displayName=tr.displayName;const sr=p.forwardRef((({className:t,...n},r)=>e.jsx(nr,{ref:r,className:w("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:e.jsx(rr,{className:"flex items-center justify-center",children:e.jsx(E,{className:"h-2.5 w-2.5 fill-current text-current"})})})));sr.displayName=nr.displayName;var lr="Checkbox",[ir,or]=t(lr),[cr,dr]=ir(lr),ur=p.forwardRef(((t,n)=>{const{__scopeCheckbox:a,name:s,checked:l,defaultChecked:d,required:u,disabled:m,value:h="on",onCheckedChange:x,form:f,...g}=t,[v,y]=p.useState(null),b=i(n,(e=>y(e))),j=p.useRef(!1),N=!v||(f||!!v.closest("form")),[w=!1,k]=r({prop:l,defaultProp:d,onChange:x}),S=p.useRef(w);return p.useEffect((()=>{const e=null==v?void 0:v.form;if(e){const t=()=>k(S.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[v,k]),e.jsxs(cr,{scope:a,state:w,disabled:m,children:[e.jsx(o.button,{type:"button",role:"checkbox","aria-checked":xr(w)?"mixed":w,"aria-required":u,"data-state":fr(w),"data-disabled":m?"":void 0,disabled:m,value:h,...g,ref:b,onKeyDown:c(t.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:c(t.onClick,(e=>{k((e=>!!xr(e)||!e)),N&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())}))}),N&&e.jsx(hr,{control:v,bubbles:!j.current,name:s,value:h,checked:w,required:u,disabled:m,form:f,style:{transform:"translateX(-100%)"},defaultChecked:!xr(d)&&d})]})}));ur.displayName=lr;var mr="CheckboxIndicator",pr=p.forwardRef(((t,n)=>{const{__scopeCheckbox:r,forceMount:a,...s}=t,l=dr(mr,r);return e.jsx(d,{present:a||xr(l.state)||!0===l.state,children:e.jsx(o.span,{"data-state":fr(l.state),"data-disabled":l.disabled?"":void 0,...s,ref:n,style:{pointerEvents:"none",...t.style}})})}));pr.displayName=mr;var hr=t=>{const{control:n,checked:r,bubbles:a=!0,defaultChecked:s,...l}=t,i=p.useRef(null),o=Z(r),c=P(n);p.useEffect((()=>{const e=i.current,t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set;if(o!==r&&n){const t=new Event("click",{bubbles:a});e.indeterminate=xr(r),n.call(e,!xr(r)&&r),e.dispatchEvent(t)}}),[o,r,a]);const d=p.useRef(!xr(r)&&r);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??d.current,...l,tabIndex:-1,ref:i,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function xr(e){return"indeterminate"===e}function fr(e){return xr(e)?"indeterminate":e?"checked":"unchecked"}var gr=ur,vr=pr;const yr=p.forwardRef((({className:t,...n},r)=>e.jsx(gr,{ref:r,className:w("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...n,children:e.jsx(vr,{className:w("flex items-center justify-center text-current"),children:e.jsx(I,{className:"h-4 w-4"})})})));yr.displayName=gr.displayName;const br=({totalPrice:t,onPaymentComplete:n,onCancel:r,onSubmit:a})=>{const[s,l]=p.useState("swish"),[i,o]=p.useState(""),[c,d]=p.useState(""),[u,m]=p.useState(""),[h,x]=p.useState(""),[f,y]=p.useState(""),[b,j]=p.useState(""),[w,k]=p.useState(!1),[C,P]=p.useState(!1);return e.jsxs(v,{className:"border rounded-lg mb-8",children:[e.jsxs("div",{className:"bg-slate-700 text-white p-3 font-semibold",children:["Betalning - ",t.toFixed(2),"€"]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment methods"}),e.jsx("div",{className:"space-y-2",children:e.jsxs(ar,{defaultValue:"swish",value:s,onValueChange:e=>l(e),className:"gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md "+("swish"===s?"border-primary":"border-gray-200"),children:[e.jsx(sr,{value:"swish",id:"swish"}),e.jsxs(g,{htmlFor:"swish",className:"flex items-center gap-2 cursor-pointer flex-1",children:[e.jsx(ge,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Swish"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md "+("ebanking"===s?"border-primary":"border-gray-200"),children:[e.jsx(sr,{value:"ebanking",id:"ebanking"}),e.jsxs(g,{htmlFor:"ebanking",className:"flex items-center gap-2 cursor-pointer flex-1",children:[e.jsx(ue,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"eBanking"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md "+("card"===s?"border-primary":"border-gray-200"),children:[e.jsx(sr,{value:"card",id:"card"}),e.jsxs(g,{htmlFor:"card",className:"flex items-center gap-2 cursor-pointer flex-1",children:[e.jsx(pe,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Card payment"})]})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:["swish"===s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"swishNumber",children:"Swish Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 h-4 w-4"}),e.jsx(S,{id:"swishNumber",type:"tel",value:f,onChange:e=>y(e.target.value.replace(/\D/g,"")),placeholder:"07X XXX XX XX",className:"pl-10",maxLength:10})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-md flex items-start gap-3 text-sm text-blue-700",children:[e.jsx(Q,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Swish Information"}),e.jsx("p",{children:"You will receive a Swish payment request to your mobile phone. Accept the payment in your Swish app to complete the transaction."})]})]})]}),"ebanking"===s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"bankSelection",children:"Select Your Bank"}),e.jsx(ar,{value:b,onValueChange:j,className:"grid grid-cols-2 gap-3",children:["Nordea","SEB","Handelsbanken","Swedbank","Danske Bank","Länsförsäkringar"].map((t=>e.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-md "+(b===t?"border-primary":"border-gray-200"),children:[e.jsx(sr,{value:t,id:`bank-${t}`}),e.jsx(g,{htmlFor:`bank-${t}`,className:"cursor-pointer",children:t})]},t)))})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-md flex items-start gap-3 text-sm text-blue-700",children:[e.jsx(he,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Bank Information"}),e.jsx("p",{children:"You will be redirected to your bank's website to complete the payment."})]})]})]}),"card"===s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"cardNumber",children:"Card Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 h-4 w-4"}),e.jsx(S,{id:"cardNumber",value:i,onChange:e=>o((e=>{const t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"").match(/\d{4,16}/g),n=t&&t[0]||"",r=[];for(let a=0,s=n.length;a<s;a+=4)r.push(n.substring(a,a+4));return r.length?r.join(" "):e})(e.target.value)),placeholder:"4111 1111 1111 1111",className:"pl-10",maxLength:19})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"expiryDate",children:"Expiry Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 h-4 w-4"}),e.jsx(S,{id:"expiryDate",value:c,onChange:e=>d((e=>{const t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return t.length>=2?`${t.substring(0,2)}/${t.substring(2,4)}`:t})(e.target.value)),placeholder:"MM/YY",className:"pl-10",maxLength:5})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"cvv",children:"CVV"}),e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 h-4 w-4"}),e.jsx(S,{id:"cvv",value:u,onChange:e=>m(e.target.value.replace(/\D/g,"")),placeholder:"123",className:"pl-10",maxLength:4})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"cardholderName",children:"Cardholder Name"}),e.jsx(S,{id:"cardholderName",value:h,onChange:e=>x(e.target.value),placeholder:"John Doe"})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-md flex items-start gap-3 text-sm text-blue-700",children:[e.jsx(fe,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Secure Payment"}),e.jsx("p",{children:"All payment information is encrypted and secure."})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yr,{id:"terms",checked:C,onCheckedChange:e=>P(e)}),e.jsx("div",{className:"grid gap-1.5 leading-none",children:e.jsxs(g,{htmlFor:"terms",className:"text-sm text-muted-foreground",children:["I accept the "," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"terms and conditions"})," and I have read the "," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"privacy statement"})]})})]}),e.jsx("div",{className:"mt-4 space-y-2 text-sm text-gray-600",children:e.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[e.jsx("li",{children:"Domestic parcel services"}),e.jsx("li",{children:"Letter services and international parcels"}),e.jsx("li",{children:"General delivery conditions"})]})}),e.jsxs("div",{className:"flex justify-between gap-4 mt-6",children:[e.jsx(N,{type:"button",variant:"outline",onClick:r,children:"Previous"}),e.jsx(N,{type:"button",disabled:w,className:"bg-green-600 hover:bg-green-700 text-white min-w-[7rem]",onClick:async e=>{if(e.preventDefault(),!C)return void D.error("You must accept the terms and conditions to continue");if("card"===s){if(!(i&&c&&u&&h))return void D.error("Please fill in all card details");if(16!==i.replace(/\s/g,"").length||!/^\d+$/.test(i.replace(/\s/g,"")))return void D.error("Please enter a valid card number");if(!/^\d{2}\/\d{2}$/.test(c))return void D.error("Please enter a valid expiry date (MM/YY)");if(!/^\d{3,4}$/.test(u))return void D.error("Please enter a valid CVV code")}else if("swish"===s){if(!f)return void D.error("Please enter your Swish number");if(!/^\d{10}$/.test(f.replace(/\s/g,"")))return void D.error("Please enter a valid Swish number (10 digits)")}else if("ebanking"===s&&!b)return void D.error("Please select your bank");k(!0);a({paymentMethod:s,termsAccepted:C,cardNumber:"card"===s?i:void 0,expiryDate:"card"===s?c:void 0,cardholderName:"card"===s?h:void 0,swishNumber:"swish"===s?f:void 0,bankName:"ebanking"===s?b:void 0}),setTimeout((()=>{k(!1),D.success("Payment processed successfully!"),n()}),2e3)},children:w?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):`Pay (${t.toFixed(2)}€)`})]})]})]})]})};function jr(e,t){const n=+te(e),[r,a]=[+te(t.start),+te(t.end)].sort(((e,t)=>e-t));return n>=r&&n<=a}function Nr({className:t,classNames:n,showOutsideDays:r=!0,...a}){return e.jsx(ne,{showOutsideDays:r,classNames:{months:"flex flex-col sm:flex-row gap-6 w-full min-h-[500px] bg-prima ",month:"space-y-4 shadow-md rounded-lg overflow-hidden",caption:"flex justify-between items-center py-3 px-5 bg-slate-50 border-b",caption_label:"text-base font-bold ",nav:"flex items-center space-x-2",nav_button:w(L({variant:"outline"}),"h-10 w-10 bg-white text-slate-600 border-slate-200 rounded-full hover:bg-slate-100 transition-all"),nav_button_previous:"",nav_button_next:"",table:"w-full border-collapse table-fixed",head_row:"bg-primary",head_cell:"text-slate-500 font-semibold text-xs uppercase py-3 text-white",row:"table-row border-b last:border-b-0 border-primary",cell:"table-cell h-20 text-center text-sm relative",day:w(L({variant:"ghost"}),"h-16 w-16 p-0 font-medium rounded-md  hover:bg-slate-100 hover:text-slate-900 transition-all mx-auto"),day_range_end:"bg-primary text-white rounded-r-md",day_selected:"bg-primary text-white font-bold hover:bg-primary-dark",day_today:"border border-primary text-primary font-semibold",day_outside:"text-slate-400 opacity-60",day_disabled:"text-slate-300 opacity-50 cursor-not-allowed",day_range_middle:"bg-slate-800 text-slate-700",day_hidden:"invisible",...n},components:{IconLeft:t=>e.jsx(re,{...t,className:"h-6 w-6 text-slate-600"}),IconRight:t=>e.jsx(z,{...t,className:"h-6 w-6 text-slate-600"})},...a})}Nr.displayName="CalendarPrice";const wr=(e,t)=>function(e){const t=te(e.start),n=te(e.end);let r=+t>+n;const a=r?+t:+n,s=r?n:t;s.setHours(0,0,0,0);const l=[];for(;+s<=a;)l.push(te(s)),s.setDate(s.getDate()+1),s.setHours(0,0,0,0);return r?l.reverse():l}({start:ae(e),end:se(e)}).map((e=>{if(jr(e,t)){const t=e.getDay();let n=0===t||6===t?{low:.1,medium:.3,high:.6}:{low:.5,medium:.3,high:.2};const r=Math.random();let a;a=r<n.low?"low":r<n.low+n.medium?"medium":"high";const s={low:8.99,medium:10.99,high:13.99},l={low:{min:10,max:50},medium:{min:51,max:150},high:{min:151,max:300}},i=Math.floor(Math.random()*(l[a].max-l[a].min+1)+l[a].min);return{date:e,loadFactor:a,basePrice:s[a],estimatedOrders:i}}return{date:e,loadFactor:"medium",basePrice:0,estimatedOrders:0}})),kr=({date:t,currentMonth:n,pricingData:r,dateRange:a,onSelect:s,isSelected:l=!1})=>{const i=((e,t)=>e.find((e=>le(e.date,t))))(r,t),o=jr(t,a),c=o&&i&&i.basePrice>0&&"low"===i.loadFactor;let d="h-16 w-full p-0 font-normal flex flex-col items-center justify-center rounded hover:bg-gray-50 relative cursor-default";if(ie(t,n))if(o&&i){const e={low:"bg-green-100 hover:bg-green-200 border-green-200 text-black",medium:"bg-yellow-50 hover:bg-yellow-100 border-yellow-200 text-yellow-800",high:"bg-red-50 hover:bg-red-100 border-red-200 text-red-800"};i.basePrice>0&&"low"==i.loadFactor?d+=` ${e[i.loadFactor]} border-b-2 cursor-pointer`:d+=" text-gray-400"}else d+=" text-gray-400";else d+=" text-gray-300 opacity-50";l&&"low"==i.loadFactor&&(d+=" ring-2 ring-green-600");const u=i&&i.basePrice>0?"text-xs font-normal":"text-sm";return e.jsxs("div",{className:d,onClick:e=>{c&&s&&(e.preventDefault(),e.stopPropagation(),s(t))},children:[e.jsx("span",{className:u,children:oe(t,"d")}),o&&i&&i.basePrice>0&&e.jsx("span",{className:"text-[11px] font-medium"}),o&&i&&i.basePrice>0&&"low"===i.loadFactor&&e.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2"})]})},Sr=({currentMonth:t,setCurrentMonth:n,pricingData:r,isLoading:a,dateRange:s,onDateSelect:l,selectedDate:i})=>{const{t:o}=A();return e.jsxs(v,{className:"h-full bg-white border border-gray-100 shadow-sm",children:[e.jsxs(R,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("h4",{className:"text-sm font-medium"})}),e.jsx(M,{children:e.jsxs(F,{children:[e.jsx(T,{asChild:!0,children:e.jsx(N,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-500",children:e.jsx($,{className:"h-4 w-4"})})}),e.jsx(_,{className:"max-w-xs",children:e.jsx("p",{children:o("shipping.priceCalendarInfo","Shipping rates vary based on demand.")})})]})})]}),e.jsx(b,{children:a?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):e.jsx("div",{className:"flex justify-center items-center transform origin-center pb-8",children:e.jsx(Nr,{mode:"single",month:t,onMonthChange:n,selected:i||void 0,onSelect:e=>e&&(null==l?void 0:l(e)),className:"mx-auto rounded-md border-0 w-full max-w-[90%] pointer-events-auto flex flex-col items-center",showOutsideDays:!0,components:{Day:({date:n,...a})=>e.jsx("div",{children:n&&e.jsx(kr,{date:n,currentMonth:t,pricingData:r,dateRange:s,onSelect:l,isSelected:!(!i||!n)&&i.getTime()===n.getTime()})})}})})})]})},Cr=({onVolumeSelect:t})=>{const n=x();return e.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-center mb-8",children:"Choose Your Shipping Volume"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(v,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(R,{className:"text-center",children:[e.jsx(y,{className:"w-12 h-12 mx-auto mb-4 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Low Volume"}),e.jsx("p",{className:"text-sm text-gray-500",children:"For Individual shipments"})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"✓"}),"Individual package booking"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"✓"}),"Competitive rates"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"✓"}),"Easy booking process"]})]}),e.jsxs(N,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>{t("low")},children:["Continue to Booking",e.jsx(O,{className:"ml-2 h-4 w-4"})]})]})]}),e.jsxs(v,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(R,{className:"text-center",children:[e.jsx(j,{className:"w-12 h-12 mx-auto mb-4 text-green-600"}),e.jsx("h2",{className:"text-xl font-semibold",children:"High Volume"}),e.jsx("p",{className:"text-sm text-gray-500",children:"For Businesses"})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"✓"}),"Bulk shipping solutions"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"✓"}),"Competitive rates"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"✓"}),"Easy upload of shipment data"]})]}),e.jsxs(N,{className:"w-full bg-green-600 hover:bg-green-700 text-white",onClick:()=>{t("high"),n("/shipment/high-volume")},children:["Start High Volume Booking",e.jsx(O,{className:"ml-2 h-4 w-4"})]})]})]})]})]})},Pr=({selectedVolume:t,onVolumeSelect:n})=>{A();return e.jsxs("div",{className:"my-6",children:[e.jsx("h2",{className:"text-2xl font-medium mb-6",children:"Välj paketstorlek"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{id:"xxs",name:"Småpaket (XXS)",dimensions:"max. 3 x 25 x 35 cm, 2 kg",deliveryTime:"Framme inom 5 arbetsdagar",price:5.9},{id:"s",name:"S paket",dimensions:"max. 11 x 32 x 42 cm, 25 kg",deliveryTime:"Framme inom 1–3 arbetsdagar",price:7.9},{id:"m",name:"M paket",dimensions:"max. 19 x 36 x 60 cm, 25 kg",deliveryTime:"Framme inom 1–3 arbetsdagar",price:9.9},{id:"l",name:"L paket",dimensions:"max. 37 x 36 x 60 cm, 25 kg",deliveryTime:"Framme inom 1–3 arbetsdagar",price:11.9},{id:"xl",name:"XL paket",dimensions:"max. 100 x 60 x 40 cm, 25 kg",deliveryTime:"Framme inom 1–3 arbetsdagar",price:19.9},{id:"xxl",name:"XXL paket",dimensions:"Max 200 cm och längd + omkrets max 300 cm, max 25 kg",deliveryTime:"Framme inom 1–3 arbetsdagar",price:39.9}].map((r=>e.jsxs("div",{className:`\n              relative rounded-lg overflow-hidden cursor-pointer \n              ${t===r.id?"border-2 border-primary shadow-md":"border border-gray-200 hover:border-gray-300 hover:shadow-sm"}\n            `,onClick:()=>n(r.id),children:[r.badge&&e.jsx("div",{className:"absolute top-0 left-0 bg-slate-700 text-white text-xs py-1 px-2 rounded-br-md",children:r.badge}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-medium text-lg",children:r.name}),e.jsx("p",{className:"text-sm text-slate-600 my-2",children:r.dimensions}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:r.deliveryTime}),e.jsxs("div",{className:`\n                text-center py-2 px-4 rounded-full font-medium\n                ${t===r.id?"bg-primary text-white":"bg-blue-500 text-white"}\n              `,children:[r.price.toFixed(2)," €"]})]})]},r.id)))}),e.jsxs("div",{className:"mt-8 bg-slate-100 rounded-lg p-6",children:[e.jsx("h3",{className:"font-medium text-lg mb-4",children:"Osäker på paketets storlek?"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"Mät paketets bredd, höjd och djup. Fyll i informationen i fälten nedan för att få en storleksrekommendation för ditt paket."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",placeholder:"Bredd",className:"w-full border border-gray-300 rounded-lg py-2 px-4 pr-12"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500",children:"cm"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",placeholder:"Höjd",className:"w-full border border-gray-300 rounded-lg py-2 px-4 pr-12"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500",children:"cm"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",placeholder:"Djup",className:"w-full border border-gray-300 rounded-lg py-2 px-4 pr-12"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500",children:"cm"})]})]}),e.jsx("button",{className:"mt-4 border border-blue-500 text-blue-500 hover:bg-blue-50 rounded-full py-2 px-6 transition-colors",children:"Visa lämpliga storlekar"})]})]})},Er=({customerType:t})=>{const{isSignedIn:n,user:r}=B(),a=x(),[s,l]=p.useState("5"),[i,o]=p.useState("20"),[c,d]=p.useState("15"),[u,m]=p.useState("10"),[h,f]=p.useState("Stockholm, SE"),[g,v]=p.useState("112 23"),[y,b]=p.useState("Helsinki, FI"),[j,w]=p.useState("00341"),[k,S]=p.useState("standard"),[C,P]=p.useState(!1),[E,I]=p.useState(null),[L,z]=p.useState(t||"private");p.useState(""),p.useState("");const[A,R]=p.useState(!1),[M,F]=p.useState(!1),[T,$]=p.useState("en"),[_,O]=p.useState(!1),[H,G]=p.useState("SE"),[W,X]=p.useState("FI"),[K,Y]=p.useState(1),[J,Z]=p.useState(""),[Q,te]=p.useState(""),[ne,re]=p.useState(""),[ae,se]=p.useState(""),[le,ie]=p.useState(""),[oe,ue]=p.useState(""),[me,pe]=p.useState(""),[he,xe]=p.useState(""),[fe,ge]=p.useState(null),[ye,Ne]=p.useState("m"),[we,ke]=p.useState(null),[Se,Ce]=p.useState(!1),[Pe,Ee]=p.useState(new Date),[Ie,De]=p.useState([]),[Le,ze]=p.useState(!1),[Ae,Re]=p.useState(null),[Me,Fe]=p.useState(null),Te=ce(new Date),$e={start:Te,end:de(Te,3)};p.useEffect((()=>{(async()=>{if(n&&r){const e=localStorage.getItem("lastBooking");if(e){const{trackingCode:t,timestamp:n}=JSON.parse(e),a=await q(t,r.id);if(a){I(a),R(!0);const e=new Date(a.cancellation_deadline);new Date<e?F(!0):(localStorage.removeItem("lastBooking"),F(!1))}else localStorage.removeItem("lastBooking")}}})()}),[n,r]),p.useEffect((()=>{Se&&_e()}),[Se,Pe]);const _e=()=>{ze(!0),setTimeout((()=>{const e=wr(Pe,$e);De(e),ze(!1)}),600)},Oe=()=>{switch(ye){case"xxs":return 5.9;case"s":return 7.9;case"m":default:return 9.9;case"l":return 11.9;case"xl":return 19.9;case"xxl":return 39.9}},Be={id:1,name:"",price:Oe(),eta:"",icon:""},Ve=async()=>{var e;if(K<4)Ge();else if(n&&r){if(!C){P(!0);try{const e={weight:s,dimensions:{length:i,width:c,height:u},pickup:{name:J,address:ae,postalCode:g,city:"Stockholm",country:H,phone:ne,email:Q},delivery:{name:le,address:he,postalCode:j,city:"Helsinki",country:W,phone:me,email:oe},carrier:{name:Be.name,price:Be.price},userId:r.id,customerType:L||"private",pickupSlotId:"slot-1",poolingEnabled:"cheap"===we,deliveryDate:Ae?Ae.toISOString():void 0,paymentMethod:null==Me?void 0:Me.paymentMethod,termsAccepted:null==Me?void 0:Me.termsAccepted},t=await ve(e);t.success?(I(t),R(!0),F(!0),localStorage.setItem("lastBooking",JSON.stringify({trackingCode:t.trackingCode,timestamp:(new Date).toISOString()})),D.success(`Your shipment has been booked with tracking code: ${t.trackingCode}`)):D.error(t.message||"There was a problem with your booking.")}catch(t){D.error("An unexpected error occurred during booking.")}finally{P(!1)}}}else null==(e=document.querySelector("button.cl-userButtonTrigger"))||e.click()},He=async()=>{if(!(null==E?void 0:E.trackingCode)&&!(null==E?void 0:E.tracking_code))return;const e=E.trackingCode||E.tracking_code;if(e&&(null==r?void 0:r.id))try{const t=await(async(e,t)=>{try{const n=JSON.parse(localStorage.getItem(`bookings_${t}`)||"[]"),r=n.findIndex((t=>t.tracking_code===e));return n[r].status="cancelled",n[r].can_be_cancelled=!1,localStorage.setItem(`bookings_${t}`,JSON.stringify(n)),!0}catch(n){return!1}})(e,r.id);t?(R(!1),I(null),F(!1),localStorage.removeItem("lastBooking"),D.success("Your booking has been successfully cancelled.")):D.error("Unable to cancel booking. Please try again or contact support.")}catch(t){D.error("An unexpected error occurred.")}},Ge=()=>{Y(K+1)},qe=()=>{Y(K-1)},Ue=async()=>{if(!E)return;const e=E.trackingCode||E.tracking_code,t=E.shipmentId||"SHIP-"+Math.floor(1e6*Math.random());if(e){O(!0);try{const n=`${i}x${c}x${u} cm`,r=await U({shipmentId:t,carrierName:E.carrier_name||"E-Parcel",trackingCode:e,senderAddress:h,recipientAddress:y,packageDetails:{weight:s,dimensions:n},language:T});if(r.success){E.labelUrl||I({...E,labelUrl:r.labelUrl}),window.open(r.labelUrl,"_blank");const e="en"===T?"English":"fi"===T?"Finnish":"sv"===T?"Swedish":"no"===T?"Norwegian":"Danish";D.success(`Label has been generated in ${e}`)}else D.error(r.message||"Unable to generate shipping label")}catch(n){D.error("An unexpected error occurred")}finally{O(!1)}}else D.error("Unable to generate label: missing tracking code")},We=async e=>{ke(e),"fast"===e?(S("express"),Ce(!1),Re(null)):"cheap"===e&&(S("economy"),Ce(!0),_e())},Xe=e=>{ge(e)};return A?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(V,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(be,{bookingResult:E,carrier:Be,canCancelBooking:M,labelLanguage:T,setLabelLanguage:$,isGeneratingLabel:_,handleGenerateLabel:Ue,handleCancelBooking:He,onBookAnother:()=>{R(!1),I(null),localStorage.removeItem("lastBooking"),a("/shipment")}})})]}):fe?"high"===fe?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(V,{}),e.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-center mb-8",children:"High Volume Booking"}),e.jsx("p",{className:"text-center text-gray-600",children:"This feature is coming soon. Please contact our sales team for high volume shipping solutions."})]})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(V,{}),e.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[e.jsx(je,{currentStep:K}),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),K<3?Ge():Ve()},className:"mt-8",children:[1===K&&e.jsxs("div",{children:[e.jsx(en,{pickup:h,setPickup:f,delivery:y,setDelivery:b,pickupPostalCode:g,setPickupPostalCode:v,deliveryPostalCode:j,setDeliveryPostalCode:w,pickupCountry:H,setPickupCountry:G,deliveryCountry:W,setDeliveryCountry:X,onSwap:()=>{const e=h,t=g,n=H;f(y),v(j),G(W),b(e),w(t),X(n)}}),e.jsxs("div",{className:"mt-8 border rounded-lg shadow-sm",children:[e.jsx("div",{className:"bg-slate-700 text-white p-3 font-semibold",children:"Select Delivery Option"}),e.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(N,{onClick:()=>We("fast"),type:"button",className:"h-20 text-left p-4 rounded-lg border transition-all duration-200 \n                    "+("fast"===we?" text-white":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"),children:e.jsxs("div",{className:"flex flex-col items-start space-y-1",children:[e.jsx("span",{className:"font-medium text-base",children:"Fast Delivery"}),e.jsx("span",{className:"text-sm text-black-600",children:"Arrives in 2-4 business days"})]})}),e.jsx(N,{onClick:()=>We("cheap"),type:"button",className:"h-20 text-left p-4 rounded-lg border transition-all duration-200 \n                    "+("cheap"===we?"text-white":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"),children:e.jsxs("div",{className:"flex flex-col items-start space-y-1",children:[e.jsx("span",{className:"font-medium text-base",children:"Cheap Delivery"}),e.jsx("span",{className:"text-sm text-black-600",children:"Save money by selecting a specific date"})]})})]}),Se&&e.jsxs("div",{className:"px-6 pb-6",children:[e.jsxs("div",{className:"mt-4 mb-2 flex items-center",children:[e.jsx(ee,{className:"h-5 w-5 mr-2 text-blue-500"}),e.jsx("h3",{className:"font-medium",children:"Select delivery date to get the best price"})]}),e.jsx("div",{className:"border rounded-lg shadow-sm bg-white",children:e.jsx(Sr,{currentMonth:Pe,setCurrentMonth:Ee,pricingData:Ie,isLoading:Le,dateRange:$e,onDateSelect:async e=>{Re(e)},selectedDate:Ae})}),Ae&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:e.jsxs("p",{className:"text-blue-800",children:[e.jsx("span",{className:"font-medium",children:"Delivery date selected: "}),Ae.toLocaleDateString()]})})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(N,{type:"button",onClick:Ge,className:"bg-green-600 hover:bg-green-700 text-white",disabled:"cheap"===we&&!Ae,children:"Continue"})})]}),2===K&&e.jsxs("div",{children:[e.jsx(Pr,{selectedVolume:ye,onVolumeSelect:Ne}),e.jsxs("div",{className:"flex justify-between gap-4 mt-6",children:[e.jsx(N,{type:"button",variant:"outline",onClick:qe,children:"Previous"}),e.jsx(N,{type:"button",onClick:Ge,className:"bg-green-600 hover:bg-green-700 text-white",children:"Continue"})]})]}),3===K&&e.jsxs("div",{children:[e.jsx(tn,{senderName:J,setSenderName:Z,senderEmail:Q,setSenderEmail:te,senderPhone:ne,setSenderPhone:re,senderAddress:ae,setSenderAddress:se,recipientName:le,setRecipientName:ie,recipientEmail:oe,setRecipientEmail:ue,recipientPhone:me,setRecipientPhone:pe,recipientAddress:he,setRecipientAddress:xe,pickupCountry:H,pickupPostalCode:g,deliveryCountry:W,deliveryPostalCode:j}),e.jsx(nn,{senderName:J,senderAddress:ae,pickupPostalCode:g,pickupCountry:H,recipientName:le,recipientAddress:he,deliveryPostalCode:j,deliveryCountry:W}),e.jsxs("div",{className:"flex justify-between gap-4 mt-6",children:[e.jsx(N,{type:"button",variant:"outline",onClick:qe,children:"Previous"}),e.jsx(N,{type:"button",onClick:Ge,className:"bg-green-600 hover:bg-green-700 text-white",children:"Continue to Payment"})]})]}),4===K&&e.jsx("div",{children:e.jsx(br,{totalPrice:Oe(),onPaymentComplete:Ve,onSubmit:e=>{Fe(e)},onCancel:qe})})]})]})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(V,{}),e.jsx(Cr,{onVolumeSelect:Xe})]})};export{Er as default};
